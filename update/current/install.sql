DROP TABLE IF EXISTS `{#}controllers_hooks`;
CREATE TABLE IF NOT EXISTS `{#}controllers_hooks` (
  `id` int(5) UNSIGNED NOT NULL AUTO_INCREMENT,
  `controller` varchar(32) DEFAULT NULL,
  `name` varchar(256) DEFAULT NULL,
  `is_enabled` tinyint(1) UNSIGNED DEFAULT '1',
  `ordering` int(5) UNSIGNED DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `is_enabled` (`is_enabled`,`ordering`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='Хуки системы';

INSERT INTO `{#}controllers_hooks` (`id`, `controller`, `name`, `is_enabled`, `ordering`) VALUES
(NULL, 'activity', 'content_after_add_approve', 1, 1),
(NULL, 'activity', 'content_after_update_approve', 1, 2),
(NULL, 'activity', 'publish_delayed_content', 1, 3),
(NULL, 'activity', 'user_delete', 1, 4),
(NULL, 'activity', 'user_tab_info', 1, 5),
(NULL, 'activity', 'user_tab_show', 1, 6),
(NULL, 'admin', 'menu_admin', 1, 7),
(NULL, 'admin', 'user_login', 1, 8),
(NULL, 'auth', 'user_profile_update', 1, 9),
(NULL, 'auth', 'frontpage', 1, 10),
(NULL, 'auth', 'frontpage_types', 1, 11),
(NULL, 'comments', 'content_after_update', 1, 12),
(NULL, 'comments', 'admin_dashboard_block', 1, 13),
(NULL, 'comments', 'admin_dashboard_chart', 1, 14),
(NULL, 'comments', 'user_privacy_types', 1, 15),
(NULL, 'comments', 'user_login', 1, 16),
(NULL, 'comments', 'user_notify_types', 1, 17),
(NULL, 'comments', 'user_delete', 1, 18),
(NULL, 'comments', 'user_tab_info', 1, 19),
(NULL, 'comments', 'user_tab_show', 1, 20),
(NULL, 'commentsvk', 'comment_systems', 1, 21),
(NULL, 'content', 'rss_content_controller_form', 1, 22),
(NULL, 'content', 'frontpage_types', 1, 23),
(NULL, 'frontpage', 'ctype_after_update', 1, 35),
(NULL, 'frontpage', 'ctype_after_delete', 1, 36),
(NULL, 'groups', 'admin_dashboard_chart', 1, 37),
(NULL, 'groups', 'content_view_hidden', 1, 38),
(NULL, 'groups', 'rating_vote', 1, 39),
(NULL, 'groups', 'user_privacy_types', 1, 40),
(NULL, 'groups', 'user_profile_buttons', 1, 41),
(NULL, 'groups', 'user_notify_types', 1, 42),
(NULL, 'groups', 'user_delete', 1, 43),
(NULL, 'groups', 'user_tab_info', 1, 44),
(NULL, 'groups', 'user_tab_show', 1, 45),
(NULL, 'groups', 'menu_groups', 1, 46),
(NULL, 'groups', 'sitemap_sources', 1, 47),
(NULL, 'groups', 'sitemap_urls', 1, 48),
(NULL, 'images', 'user_delete', 1, 49),
(NULL, 'messages', 'admin_dashboard_chart', 1, 50),
(NULL, 'messages', 'menu_messages', 1, 51),
(NULL, 'messages', 'users_profile_view', 1, 52),
(NULL, 'messages', 'user_privacy_types', 1, 53),
(NULL, 'messages', 'user_delete', 1, 54),
(NULL, 'messages', 'user_notify_types', 1, 55),
(NULL, 'moderation', 'admin_dashboard_block', 1, 56),
(NULL, 'moderation', 'content_after_trash_put', 1, 57),
(NULL, 'moderation', 'content_after_restore', 1, 58),
(NULL, 'moderation', 'content_before_delete', 1, 59),
(NULL, 'moderation', 'menu_moderation', 1, 60),
(NULL, 'photos', 'content_albums_items_html', 1, 61),
(NULL, 'photos', 'fulltext_search', 1, 62),
(NULL, 'photos', 'admin_albums_ctype_menu', 1, 63),
(NULL, 'photos', 'content_albums_after_add', 1, 64),
(NULL, 'photos', 'content_albums_after_delete', 1, 65),
(NULL, 'photos', 'content_albums_item_html', 1, 66),
(NULL, 'photos', 'content_albums_before_item', 1, 67),
(NULL, 'photos', 'content_albums_before_list', 1, 68),
(NULL, 'photos', 'user_delete', 1, 69),
(NULL, 'rating', 'user_delete', 1, 70),
(NULL, 'recaptcha', 'captcha_html', 1, 71),
(NULL, 'recaptcha', 'captcha_validate', 1, 72),
(NULL, 'rss', 'ctype_basic_form', 1, 73),
(NULL, 'rss', 'ctype_before_add', 1, 74),
(NULL, 'rss', 'ctype_after_add', 1, 75),
(NULL, 'rss', 'ctype_before_edit', 1, 76),
(NULL, 'rss', 'ctype_before_update', 1, 77),
(NULL, 'rss', 'ctype_after_delete', 1, 78),
(NULL, 'rss', 'content_before_category', 1, 79),
(NULL, 'rss', 'content_before_profile', 1, 80),
(NULL, 'search', 'photos_before_item', 1, 81),
(NULL, 'search', 'forum_before_item', 1, 82),
(NULL, 'search', 'content_before_list', 1, 83),
(NULL, 'search', 'content_before_item', 1, 84),
(NULL, 'search', 'before_print_head', 1, 85),
(NULL, 'typograph', 'html_filter', 1, 86),
(NULL, 'users', 'admin_dashboard_chart', 1, 87),
(NULL, 'users', 'menu_users', 1, 88),
(NULL, 'users', 'rating_vote', 1, 89),
(NULL, 'users', 'user_notify_types', 1, 90),
(NULL, 'users', 'user_privacy_types', 1, 91),
(NULL, 'users', 'user_tab_info', 1, 92),
(NULL, 'users', 'auth_login', 1, 93),
(NULL, 'users', 'user_loaded', 1, 94),
(NULL, 'users', 'wall_permissions', 1, 95),
(NULL, 'users', 'wall_after_add', 1, 96),
(NULL, 'users', 'wall_after_delete', 1, 97),
(NULL, 'users', 'sitemap_sources', 1, 98),
(NULL, 'wall', 'admin_dashboard_chart', 1, 99),
(NULL, 'wall', 'user_notify_types', 1, 100),
(NULL, 'wall', 'user_delete', 1, 101),
(NULL, 'content', 'user_privacy_types', 1, 24),
(NULL, 'content', 'sitemap_sources', 1, 25),
(NULL, 'content', 'rss_feed_list', 1, 26),
(NULL, 'content', 'fulltext_search', 1, 27),
(NULL, 'content', 'rss_content_controller_after_update', 1, 28),
(NULL, 'content', 'frontpage', 1, 29),
(NULL, 'content', 'admin_dashboard_chart', 1, 30),
(NULL, 'content', 'menu_content', 1, 31),
(NULL, 'content', 'user_delete', 1, 32),
(NULL, 'content', 'user_tab_info', 1, 33),
(NULL, 'content', 'user_tab_show', 1, 34);
